@page "/"
@inject IUserLoginViewHandler ViewModelHandler

@if (_viewModel is null)
{
    <h1>Not loaded</h1>
}
else
{
    <PageTitle>@_viewModel.Title</PageTitle>

    @if (_viewModel.HasUser == false)
    {
        <MudButton Href="/Account/Login">Login with Discord</MudButton>
    }
    else
    {
        <span>Logged in @_viewModel.User.Name</span>
    }
}

@code {

    UserLoginViewModel? _viewModel = null;

    protected override async Task OnInitializedAsync()
    {
        _viewModel = await ViewModelHandler.OnInitAsync();
    }

}