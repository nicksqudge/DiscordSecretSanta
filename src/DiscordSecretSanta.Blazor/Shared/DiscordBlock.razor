@using DiscordSecretSanta.Core.ViewModels
@inject IStringLocalizer<SharedResources> Translate

<Row>
    <Column ColumnSize="@ColumnSize.Is2">
        <Figure>
            <FigureImage 
                Source="@AvatarUrl"
                Style="border-radius: 50%;"
            />
        </Figure>
    </Column>
    <Column ColumnSize="@ColumnSize.Is10" Style="padding-top: 10px;">
        <Heading Size="HeadingSize.Is4" Style="display: inline-block;">@User.Name</Heading>
        <Text TextColor="TextColor.White">#@User.DiscordTagId</Text>
        <div>
            @if (User.IsAdmin)
            {
                <Badge Color="Color.Primary">@Translate["Admin"]</Badge>
            }
        </div>
    </Column>
</Row>

@code {
    
    [Parameter]
    public UserViewModel User { get; set; }

    private string AvatarUrl { get; set; } = string.Empty;

    protected override void OnInitialized()
    {
        AvatarUrl = $"https://cdn.discordapp.com/avatars/{User.UserId}/{User.AvatarId}";
    }
}