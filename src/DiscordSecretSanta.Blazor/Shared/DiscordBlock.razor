@using DiscordSecretSanta.Core.ViewModels
@inject IStringLocalizer<SharedResources> Translate

<Row>
    <Column ColumnSize="@ColumnSize.Is2">
        <Figure>
            <FigureImage 
                Source="@_avatarUrl"
                Style="border-radius: 50%;"
            />
        </Figure>
    </Column>
    <Column ColumnSize="@ColumnSize.Is10">
        <Heading Size="HeadingSize.Is4" Style="display: inline-block;">@User.Name</Heading>
        <Text TextColor="TextColor.White">#@User.DiscordTagId</Text>
        <div>
            @if (User.IsAdmin && ShowIsAdmin)
            {
                <Badge Color="Color.Primary">@Translate["Admin"]</Badge>
            }
            
            @if (ChildContent is not null)
            {
                @ChildContent
            }
        </div>
    </Column>
</Row>

@code {
    private string _avatarUrl => $"https://cdn.discordapp.com/avatars/{User.UserId}/{User.AvatarId}";
    
    [Parameter]
    public UserViewModel User { get; set; }
    
    [Parameter]
    public RenderFragment? ChildContent { get; set; } = null;

    [Parameter]
    public bool ShowIsAdmin { get; set; } = true;

}